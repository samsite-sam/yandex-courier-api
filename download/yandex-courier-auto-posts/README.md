# Яндекс Курьер - АвтоПостинг

Автоматическая генерация и публикация SEO-оптимизированных статей о работе курьером в Яндекс Еда.

## Возможности

- ✅ Автоматическая генерация 3 статей в день
- ✅ AI-контент с ключевыми словами для SEO
- ✅ Интеграция с Rank Math, Yoast SEO, All in One SEO
- ✅ Автоматическая загрузка и оптимизация изображений (WebP)
- ✅ Интеграция реферальной ссылки в статьи
- ✅ CTA-кнопки "Стать курьером"
- ✅ Планировщик WP Cron
- ✅ Логирование всех операций

## Установка

### Шаг 1: Установка плагина

1. Скачайте ZIP-архив плагина
2. В админке WordPress перейдите в **Плагины → Добавить новый**
3. Нажмите **Загрузить плагин** и выберите ZIP-файл
4. Нажмите **Установить** и затем **Активировать**

### Шаг 2: Настройка API Endpoint

В плагине перейдите в **Настройки** и укажите URL API сервера:

```
https://your-server.com/api/article-generator
```

Где `your-server.com` - это адрес сервера, где развернут Next.js API.

### Шаг 3: Настройка параметров

- **Статей в день:** Количество статей для ежедневной генерации (1-10)
- **Время публикации:** Время запуска генерации (по умолчанию 10:00)
- **Реферальная ссылка:** Ваша реферальная ссылка Яндекс Еда
- **Категория:** Категория для публикуемых статей
- **Автор:** Автор по умолчанию для статей

## Использование

### Автоматическая генерация

После настройки плагин будет автоматически генерировать статьи каждый день в указанное время.

### Ручная генерация

На главной странице плагина нажмите кнопку **"Сгенерировать статью"** для создания одной статьи вручную.

## Требования к серверу

- WordPress 5.0 или выше
- PHP 7.4 или выше
- Расширение GD или Imagick (для оптимизации изображений)
- Исходящие HTTP-запросы (для связи с API)

## API Endpoint

Плагин требует внешний API сервер для генерации контента. API должен предоставлять следующие эндпоинты:

### POST /api/article-generator/full

Генерация полной статьи с изображением.

**Запрос:**
```json
{
  "referralLink": "https://reg.eda.yandex.ru/..."
}
```

**Ответ:**
```json
{
  "success": true,
  "article": {
    "title": "Заголовок статьи",
    "metaDescription": "SEO описание",
    "focusKeyword": "ключевое слово",
    "keywords": ["ключ1", "ключ2"],
    "excerpt": "Краткое описание",
    "content": "<p>HTML контент...</p>",
    "image": {
      "url": "https://...",
      "alt": "Описание изображения"
    }
  }
}
```

### GET /api/article-generator/generate

Проверка статуса API.

## Структура плагина

```
yandex-courier-auto-posts/
├── yandex-courier-auto-posts.php    # Главный файл
├── includes/
│   ├── class-api-client.php         # API клиент
│   ├── class-article-creator.php    # Создание статей
│   ├── class-scheduler.php          # Планировщик
│   ├── class-seo-integration.php    # SEO интеграция
│   ├── class-logger.php             # Логирование
│   ├── admin-settings.php           # Настройки
│   ├── admin-page-main.php          # Главная страница
│   ├── admin-page-settings.php      # Страница настроек
│   └── admin-page-logs.php          # Журнал
└── assets/
    ├── css/admin-style.css          # Стили админки
    └── js/admin-script.js           # JavaScript
```

## Поддержка SEO плагинов

Плагин автоматически интегрируется с:

- **Rank Math SEO** - Полная поддержка (title, description, фокус-ключ, schema)
- **Yoast SEO** - Полная поддержка
- **All in One SEO** - Базовая поддержка

## Логирование

Все операции логируются в таблицу базы данных. Просмотреть логи можно в разделе **Журнал**.

Для очистки старых логов используйте кнопку "Очистить старые логи" на странице журнала.

## Частые вопросы

### Статьи не генерируются автоматически

1. Проверьте, что API endpoint указан корректно
2. Убедитесь, что WP Cron работает (можно установить плагин WP Crontrol)
3. Проверьте логи на наличие ошибок

### Изображения не загружаются

1. Проверьте права на запись в папку uploads
2. Убедитесь, что сервер может делать исходящие запросы
3. Проверьте логи для детальной информации

### API недоступен

1. Проверьте URL API endpoint
2. Убедитесь, что сервер WordPress может обращаться к API
3. Проверьте, нет ли блокировки со стороны хостинга

## Лицензия

GPL v2 or later

## Автор

Yandex Courier Team
